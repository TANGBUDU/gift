<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>给我最爱的你 ❤️</title>

<!-- 🌸 Sakura.js -->
<link  href="https://cdn.jsdelivr.net/npm/sakura-js@1.1.1/dist/sakura.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sakura-js@1.1.1/dist/sakura.min.js"></script>

<!-- 🎆 Fireworks.js UMD/CDN 版 -->
<script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.10.8/dist/fireworks-cdn.min.js"></script>

<style>
  body{
    margin:0;
    background:url("images/back.png") center/cover fixed no-repeat;
    font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
    text-align:center;
    padding:30px;
    color:#fff;
    text-shadow:1px 1px 3px #0008;
    overflow-x:hidden;
  }
  h1{font-size:2.5em;margin-bottom:20px}
  .days,.quote{font-size:1.5em;margin:20px 0}
  button{
    background:#fff;color:#ee9ca7;border:none;padding:10px 20px;
    border-radius:30px;font-size:1em;cursor:pointer;margin:5px;
    box-shadow:0 4px 6px rgba(0,0,0,.2);
  }
  .carousel img{
    width:80%;max-height:300px;object-fit:contain;border-radius:20px;
    box-shadow:0 4px 8px rgba(0,0,0,.4);
  }
  .message-wall{margin-top:30px}
  .message-list{
    margin-top:10px;font-size:1em;background:rgba(255,255,255,.2);
    padding:10px;border-radius:10px;max-width:500px;margin-inline:auto;
  }
  input[type="text"]{
    padding:8px;border-radius:8px;border:none;width:60%;font-size:1em;
  }
  /* 层级：樱花 100，烟花 101，橘猫 150 */
  .sakura{z-index:100;}
  #fireworks-container{
    position:fixed;inset:0;pointer-events:none;z-index:101;
  }
  .pet-cat{
    position:fixed;bottom:0;left:-80px;width:120px;pointer-events:none;z-index:150;
  }
</style>
</head>

<body>
<h1>亲爱的，给你的小惊喜 ❤️</h1>
<div class="days"  id="daysTogether"></div>
<div class="quote" id="quote"></div>
<button onclick="newQuote()">换一句情话</button>
<button onclick="showBlessing()">点我领取祝福 💌</button>

<!-- 🎵 背景音乐 -->
<audio id="bgm" autoplay loop>
  <source src="music.mp3" type="audio/mpeg">
  你的浏览器不支持音频播放。
</audio>

<!-- 📷 轮播图 -->
<div class="carousel">
  <img id="carouselImage" src="images/1.jpg" alt="photo">
</div>

<!-- 💬 留言墙 -->
<div class="message-wall">
  <h2>留言墙 💬</h2>
  <input type="text" id="messageInput" placeholder="写一句想对我说的话吧…">
  <button onclick="addMessage()">发送</button>
  <div class="message-list" id="messageList">（这里会显示你的留言）</div>
</div>

<!-- 🎆 烟花画布 -->
<div id="fireworks-container"></div>

<script>
/* ❤️ 天数 & 情话 */
const startDate=new Date("2025-04-20");
const daysTogether=Math.floor((Date.now()-startDate)/(1000*60*60*24));
document.getElementById("daysTogether").innerText=`我们在一起已经 ${daysTogether} 天啦！`;

const quotes=[
 "你是我一生中最美的遇见。","和你在一起的每一天都值得庆祝。","你的笑容是我每天的动力。",
 "有你，星星都不敢太耀眼。","不管几岁，见到你我都像个孩子。","你的名字，是我见过最短的情诗。",
 "希望每天醒来都能看到你。","你出现之后，我的世界变得浪漫又柔软。"
];
function newQuote(){
  document.getElementById("quote").innerText=quotes[Math.random()*quotes.length|0];
}
function showBlessing(){alert("愿你每天都开心，被我一直宠爱💝");}
newQuote();

/* 📷 轮播 */
const pics=["images/1.jpg","images/2.jpg","images/3.jpg","images/4.jpg","images/5.jpg","images/6.jpg","images/7.jpg","images/8.jpg","images/9.jpg"];
let idx=0;
setInterval(()=>{idx=(idx+1)%pics.length;document.getElementById("carouselImage").src=pics[idx]},3000);

/* 🎵 自动播放兼容 */
window.addEventListener("load",()=>{
  const audio=document.getElementById("bgm");
  const resume=()=>{audio.play().catch(()=>{});document.body.removeEventListener("click",resume);};
  document.body.addEventListener("click",resume);
});

/* 💬 留言墙 */
function addMessage(){
  const input=document.getElementById("messageInput");
  const msg=input.value.trim();
  if(msg){
    const div=document.createElement("div");
    div.innerText="❤️ "+msg;
    document.getElementById("messageList").appendChild(div);
    input.value="";
  }
}

/* 🌸 樱花 */
new Sakura('body',{fallSpeed:1.2,delay:300});

/* 🎆 随机烟花 */
const fireworks=new Fireworks(document.getElementById("fireworks-container"),{
  rocketsPoint:50,
  hue:{min:0,max:360},
  delay:{min:15,max:45},
  traceSpeed:10,
  speed:2,
  acceleration:1.05,
  friction:0.95,
  gravity:1.5,
  brightness:{min:60,max:90},
  decay:{min:0.015,max:0.03},
  autoresize:true
});
fireworks.start();

/* 🐱 橘猫宠物 */
const cat=document.createElement("img");
cat.src="https://media.giphy.com/media/13CoXDiaCcCoyk/giphy.gif"; // 可替换
cat.className="pet-cat";
document.body.appendChild(cat);

let dir=1,pos=-80;   // 初始更靠内，2 秒左右出现
function walk(){
  pos+=dir*3;        // 速度 3 像素/帧
  if(dir===1 && pos>innerWidth){
    dir=-1;cat.style.transform="scaleX(-1)";
  }else if(dir===-1 && pos<-80){
    dir=1;cat.style.transform="scaleX(1)";
  }
  cat.style.left=pos+"px";
  requestAnimationFrame(walk);
}
walk();
</script>
</body>
</html>
